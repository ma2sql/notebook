Redis Keyspace Notifications
===

**IMPORTANT** Keyspace notifications is a feature available since 2.8.0

Feature overview
---

키스페이스 노티피케이션(Keyspace notifications)은 클라이언트가 레디스의 데이터 셋이 어떠한 형태로 영향을 받은 이벤트를 수신하기 위해서 `Pub/Sub` 채널을 구독하게 하는 것이다.

수신할 수 있는 이벤트의 예는 다음과 같다.
* 주어진 키에 대해 영향이 있었던 모든 커맨드
* LPUSH 오퍼레이션이르 수신하는 모든 키
* 데이터베이스 0내의 만료중인 모든 키

이벤트는 레디스의 일반적인 Pub/Sub 계층을 이용해서 전달되며, 그렇기 때문에 Pub/Sub을 구현하는 클라이언트는 변경없이 이 기능을 이용하는 것이 가능하다.

레디스 Pub/Sub은 *fire and forget*이기 때문에, 만약 당신의 어플리케이션이 이벤트에 대한 신뢰할 수 있는 통지(**reliable notification**)에 대한 요구가 있다면, 현재는 이 기능을 이용할 방법이 없을 것이다. 당신의 Pub/Sub 클라이언트가 한 번 연결을 끊고 나서 다시 연결을 맺을 때, 클라이언트는 접속이 끊겼던 시간 동안에 전달된 모든 이벤트들을 잃게 된다.

향후에는 좀 더 신뢰할 수 있는 이벤트의 딜리버리가 가능하도록 하려는 계획이 있지만, 아마도 이것은 좀 더 일반적인 수준으로 다루어질 것이다. Pub/Sub 그 자체가 신뢰성을 갖게 되는 것이나, 또는 루아(Lua) 스크립트가 Pub/Sub 이벤트를 리스트로 푸시하는 것과 같은 오퍼레이션을 수행하기 위해 Pub/Sub 메시지를 가로챌 수 있도록 하는 것 등이다.

Type of events
---

키스페이스 노티피케이션은 레디스 데이터 스페이스에 영향을 주는 모든 오퍼레이션마다 두 가지의 구별되는 형태의 이벤트를 보냄으로써 구현된다. 예를 들어, 데이터베이스 0 안에 있는 `mykey`라고 이름이 붙여진 키에 대한 `DEL` 오퍼레이션은 두 가지 메시지를 발생시킬 것이고, 이는 다음의 두 `PUBLISH` 커맨드와 정확히 동일하다.

```
PUBLISH __keyspace@0__:mykey del
PUBLISH __keyevent@0__:del mykey
```

어떻게 우리는 한 채널로부터 `mykey`에 대한 이벤트를 모두 수신할 수 있는지, 그리고 어떻게 또 다른 채널로부터 `del` 오퍼레이션의 대상이 되는 모든 키에 대한 정보를 얻을 수 있는지를 쉽게 알 수 있을 것이다.

채널 내에서 `keyspace` 프리픽스를 가진 첫 번째 종류의 이벤트는 **키-스페이스 노티피케이션 (key-space notification)** 이라고 부른다. 반면에 `keyevent` 프리픽스를 가진 두 번째 종류의 이벤트는 **키-이벤트 노티피케이션 (key-event notification)** 이라고 부른다.

위의 예에서, `del` 이벤트는 `mykey`에 대해서 발생되었는데, 이에 대해 일어난 일은 다음과 같다.

* Key-space 채널은 이벤트의 이름을 메시지로 수신한다.
* Key-event 채널은 키의 이름을 메시지로 수신한다.

우리가 관심이 있는 이벤트의 일부만을 전달받기 위해, 오직 하나의 종류의 노티피케이션만 활성화하는 것이 가능하다.

Configuration
---

Events generated by different commands
---

Timing of expired events
---